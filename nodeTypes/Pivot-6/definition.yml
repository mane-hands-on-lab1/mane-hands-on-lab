fileVersion: 1
id: "6"
isDisabled: false
metadata:
  defaultStorageLocation: null
  error: null
  nodeMetadataSpec: |
    capitalized: PIVOT
    short: PVT
    plural: PIVOTS
    tagColor: '#29B2DB'

    deployStrategy: advanced
    isColumnResyncEnabled: true
        
    config:
    - groupName: Options
      items:
      - type: materializationSelector
        isRequired: true
        default: table
        options:
        - table
        - view
        - transient table

      - displayName: Truncate Before
        attributeName: truncateBefore
        type: toggleButton
        default: true

      - displayName: Key Column
        type: columnDropdownSelector
        attributeName: keyCol

      - displayName: Value Column
        type: columnDropdownSelector
        attributeName: valCol

      - displayName: Aggregate functions
        attributeName: aggfunc
        isRequired: false
        type: tabular
        columns:

        -  type: dropdownSelector
           displayName: Functions
           attributeName: funcname
           isRequired: false
           default: table
           options:
           - AVG
           - MAX
           - MIN
           - COUNT
           - SUM

      - displayName: Include subquery in pivot query
        attributeName: subquery
        type: toggleButton
        default: false  
        enableIf: "{% if config.filcolvol %} false {% else %} true {% endif %}"

      - displayName: subquery
        type: textBox
        attributeName: subqueryval
        enableIf: "{% if config.subquery %} true {% else %} false {% endif %}"

      - displayName: Filter column values
        type: toggleButton
        default: true
        attributeName: filcolvol
        enableIf: "{% if config.subquery %} false {% else %} true {% endif %}"

      - displayName: Column Values(comma separated list of column values)
        type: textBox
        attributeName: Colvol
        enableIf: "{% if config.filcolvol %} true {% else %} false {% endif %}"
      
      - displayName: Default value for NULL
        type: toggleButton
        default: true
        attributeName: defvalue
      
      - displayName: Default value
        type: textBox
        attributeName: defaultval
        enableIf: "{% if config.defvalue %} true {% else %} false {% endif %}"
name: Pivot
type: NodeType
